# 项目章程更新检查清单

在修改项目章程（`/memory/constitution.md`）时，确保所有依赖文档都得到更新以保持一致性。

## 需要更新的模板

### 当添加/修改任何条款时：
- [ ] `/templates/plan-template.md` - 更新章程检查部分
- [ ] `/templates/spec-template.md` - 如果需求/范围受到影响则更新
- [ ] `/templates/tasks-template.md` - 如果需要新的任务类型则更新
- [ ] `/.claude/commands/plan.md` - 如果规划流程有变化则更新
- [ ] `/.claude/commands/tasks.md` - 如果任务生成受到影响则更新
- [ ] `/CLAUDE.md` - 更新运行时开发指南

### 特定条款更新：

#### 第一条（库优先）：
- [ ] 确保模板强调库创建
- [ ] 更新CLI命令示例
- [ ] 添加llms.txt文档要求

#### 第二条（CLI界面）：
- [ ] 更新模板中的CLI标志要求
- [ ] 添加文本I/O协议提醒

#### 第三条（测试优先）：
- [ ] 更新所有模板中的测试顺序
- [ ] 强调TDD要求
- [ ] 添加测试审批门控

#### 第四条（集成测试）：
- [ ] 列出集成测试触发器
- [ ] 更新测试类型优先级
- [ ] 添加真实依赖要求

#### 第五条（可观测性）：
- [ ] 向模板添加日志要求
- [ ] 包含多层日志流
- [ ] 更新性能监控部分

#### 第六条（版本控制）：
- [ ] 添加版本递增提醒
- [ ] 包含破坏性变更程序
- [ ] 更新迁移要求

#### 第七条（简洁性）：
- [ ] 更新项目数量限制
- [ ] 添加模式禁止示例
- [ ] 包含YAGNI提醒

## 验证步骤

1. **在提交项目章程变更之前：**
   - [ ] 所有模板都引用了新要求
   - [ ] 示例已更新以匹配新规则
   - [ ] 文档之间没有矛盾

2. **在更新模板之后：**
   - [ ] 运行一个示例实现计划
   - [ ] 验证所有项目章程要求都已处理
   - [ ] 检查模板是否自包含（无需项目章程即可理解）

3. **版本跟踪：**
   - [ ] 更新项目章程版本号
   - [ ] 在模板页脚中注明版本
   - [ ] 将修正案添加到项目章程历史中

## 常见遗漏

注意这些经常被遗忘的更新：
- 命令文档（`/commands/*.md`）
- 模板中的检查清单项目
- 示例代码/命令
- 特定领域的变体（web vs mobile vs CLI）
- 文档之间的交叉引用

## 模板同步状态

最后同步检查：2025-07-16
- 项目章程版本：2.1.1
- 模板对齐：❌（缺少版本控制、可观测性详细信息）

---

*此检查清单确保项目章程原则在所有项目文档中得到一致应用。*